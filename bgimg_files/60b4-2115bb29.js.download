(window.webpackJsonp=window.webpackJsonp||[]).push([["60b4"],{VbSF:function(e,t,i){"use strict";var s=i("q1tI"),n=i.n(s),l=i("OF8H"),o=i("fHbK"),a=i("PGlZ"),r=i("j0ku"),d=i("YEIt"),h=i("qaMR"),c=i("YebH"),p=i("LPx7"),u=i("DdVn"),g=i("Ri7V"),m=i("DE9g"),I=i("Cr4H"),S=i("acAX"),f=i("XGtj"),x=i("ZFm/"),b=i("4Y7s"),w=i("UupV");function y(e,t){const i=t,s=e;return Object.keys(i).map(e=>{if(s[e]!==i[e])return{key:e,from:s[e],to:i[e]}}).filter(Boolean)}class v extends n.a.Component{constructor(e){var t,i;super(e),this.state={hasInteracted:!!this.props.isFirstCarouselInGroup,isApplyingPeekBounce:!1,isScrollable:!this.props.applyCompositingOptimizations||this.props.selectedIndex&&this.props.selectedIndex>0||!!this.props.isFirstCarouselInGroup,selectedIndex:null!==(t=this.props.selectedIndex)&&void 0!==t?t:0,shouldApplyRTLFix:!!this.props.applyRTLFix,isSnapRTLLikeLTR:!1},this.slideRefs=new Map,this.slideStateManager=new w.b({hasInteractedWith:!this.props.applyCompositingOptimizations||!!this.props.isFirstCarouselInGroup,preloadCount:this.props.preloadCount,selectedIndex:null!==(i=this.props.selectedIndex)&&void 0!==i?i:0,totalSlides:this.props.items.length}),this.listRef=null,this.rootRef=null,this.waitingForIndexToBeFullyVisible=void 0,this.fireOnChangeWhenSlideFullyVisible=void 0,this.effectiveSpaceBetweenItems=void 0,this.scrollSlideIntoView=(e,{smooth:t}={})=>{const{log:i}=this.props;this.waitingForIndexToBeFullyVisible=e;const s=this.slideRefs.get(e);if(s&&this.listRef){const n=this.listRef.getBoundingClientRect().width,l=n-s.getBoundingClientRect().width,o=this.shouldDisplayMultipleItems()?Math.round(l/2):0,a=Object(f.c)(this.listRef,s,this.props.direction,this.effectiveSpaceBetweenItems?Math.floor(parseInt(this.effectiveSpaceBetweenItems,10)):void 0);this.listRef.scrollTo({left:a,behavior:this.shouldUseSmoothScrolling(e,t)?"smooth":"auto"}),i(()=>`slide ${e} is scrolling into view at: ${s.offsetLeft-o}, totalWidth of: ${n}`)}},this.gotoNextSlide=()=>{const{selectedIndex:e}=this.state,{items:t,log:i,rewindOnBoundaries:s}=this.props,n=e>=t.length-1;!n||s?(this.fireOnChangeWhenSlideFullyVisible=!0,this.scrollSlideIntoView(n?0:e+1,{smooth:!0})):i(()=>"rewinding the carousel to the first slide disabled. don't change item.")},this.gotoPreviousSlide=()=>{const{selectedIndex:e}=this.state,{items:t,log:i,rewindOnBoundaries:s}=this.props,n=e<=0;!n||s?(this.fireOnChangeWhenSlideFullyVisible=!0,this.scrollSlideIntoView(n?t.length-1:e-1,{smooth:!0})):i(()=>"rewinding the carousel to the last slide disabled. don't change item.")},this.determineSpaceBetweenItems=(e=this.props.spaceBetweenItems)=>{if(!e)return"0px";return e.includes("px")?String(Math.floor(parseInt(e,10)/2))+"px":String(Math.floor(parseInt(e,10)/2))+"%"},this.shouldDisplayMultipleItems=()=>{const{width:e}=this.props;return null!=e&&"100%"!==e},this.shouldUseSmoothScrolling=(e,t)=>{const{smoothScrolling:i,items:s}=this.props;if(!t)return!1;const{selectedIndex:n}=this.state;if("always"===i)return!Object(d.a)();const l=Math.abs(n-e);return(1===l||l===s.length-1)&&"adjacent"===i},this.setIsInteracting=()=>{const{log:e,onInteracted:t,preloadCount:i,scheduler:s}=this.props,{hasInteracted:n}=this.state;void 0!==i&&(n||(e(()=>"Interaction event fired."),this.slideStateManager.setHasInteractedWith(!0),this.setState({hasInteracted:!0,isScrollable:!0}),s.postTask(()=>null==t?void 0:t())))},this.handleAnimationEnd=()=>{this.setState({isApplyingPeekBounce:!1})},this.toggleScrolling=e=>{const{hasInteracted:t,isScrollable:i}=this.state,{log:s,preloadCount:n,scheduler:l}=this.props;e&&t&&i||(i!==e&&(s(()=>["Scrolling is now "+(e?"enabled":"off")]),l.requestAnimationFrame(()=>{this.setState({isScrollable:e})})),e&&void 0===n&&!t&&(this.slideStateManager.setHasInteractedWith(!0),this.setState({hasInteracted:!0})))},this.handleCarouselVisible=e=>{const{applyCompositingOptimizations:t,scheduler:i}=this.props;t&&i.postTask(()=>this.toggleScrolling(e),{delay:500})},this.handleSlideFullyVisible=(e,t)=>{if(!t||!e||void 0===this.waitingForIndexToBeFullyVisible)return;const i=t.target.getAttribute("data-key");if(!i)return;const s=this.getSlideDataForKey(i);if(!s)return;const{log:n}=this.props;if(this.waitingForIndexToBeFullyVisible===s.index&&(this.waitingForIndexToBeFullyVisible=void 0,this.setState({selectedIndex:s.index}),n(()=>`slide ${s.index} is now fully in view`),this.fireOnChangeWhenSlideFullyVisible)){this.fireOnChangeWhenSlideFullyVisible=!1;const{onSlideChanged:e,scheduler:t}=this.props;if(!e)return;t.requestAnimationFrame(()=>{t.requestAnimationFrame(()=>{const{selectedIndex:t}=this.state;t===s.index?e(s):n(()=>`skipping "${s.index}" as "${t}" is selected now.`)})})}},this.handleSlideVisible=(e,t)=>{if(!t||!e||void 0!==this.waitingForIndexToBeFullyVisible)return;const i=t.target.getAttribute("data-key");i&&this.fireOnSlideChanged(i)},this.handleKeyDown=e=>{const{selectedIndex:t}=this.state,{items:i,log:s}=this.props;let n=t;switch(e.key){case"d":case"ArrowRight":n=this.getNextIndex();break;case"a":case"ArrowLeft":n=this.getPreviousIndex();break;case"Home":n=0;break;case"End":n=i.length-1;break;default:return}if(n!==t){if(this.shouldPreventNextChange(n))return void s(()=>"rewinding the carousel to the first/last slide disabled. don't change item.");s(()=>`going to slide ${n} from "${e.key}" press`),e.preventDefault(),this.fireOnChangeWhenSlideFullyVisible=!0,this.scrollSlideIntoView(n,{smooth:!0})}},this.dispatchSlideChanged=async e=>{const{selectedIndex:t}=this.state,{log:i,onSlideChanged:s,scheduler:n}=this.props;t===e.index?Object(u.a)()?n.postTask(()=>null==s?void 0:s(e)):null==s||s(e):i(()=>`skipping "${e.index}" as "${t}" is selected now.`)},this.fireOnSlideChanged=e=>{const t=this.getSlideDataForKey(e);if(!t)return;const{selectedIndex:i}=this.state,{log:s,scheduler:n}=this.props;i!==t.index&&(s(()=>"setting selected index to: "+t.index),Object(u.a)()?n.postTask(()=>{this.setState({selectedIndex:t.index},()=>this.dispatchSlideChanged(t))}):this.setState({selectedIndex:t.index},()=>{n.requestAnimationFrame(()=>{n.requestAnimationFrame(()=>this.dispatchSlideChanged(t))})}))},this.getSlideDataForKey=e=>{const{items:t,log:i}=this.props,s=t.find(t=>Object(x.a)(t)===e);if(void 0!==s)return{item:s,index:t.indexOf(s)};i(()=>[`No item with key: "${e}" exists.`,{items:t}])},this.setRootRef=e=>{this.rootRef=e},this.setListRef=e=>{const t=e;if(null!=t&&t.node){const e=t.node;return this.listRef=e,e}},this.setSlideRef=e=>{if(e){const t=e.getAttribute("data-key");if(t){const i=this.getSlideDataForKey(t);if(!i)return;this.slideRefs.set(i.index,e)}}},this.effectiveSpaceBetweenItems=this.determineSpaceBetweenItems()}componentDidMount(){const{applyPeekBouncing:e,selectedIndex:t,applyRTLFix:i,log:s}=this.props;e&&this.setState({isApplyingPeekBounce:!0});const n=i||void 0===i&&(Object(S.g)()||Object(S.o)());n!==!!i&&this.setState({shouldApplyRTLFix:n});const l=Object(S.f)();l&&this.setState({isSnapRTLLikeLTR:l}),t&&t>0&&Promise.resolve().then(()=>{const{selectedIndex:e}=this.props;t===e&&(s(()=>`scrolling slide ${t} into view on mount`),this.scrollSlideIntoView(t))})}shouldComponentUpdate(e,t){const{items:i,log:s,preloadCount:n,render:l,renderControls:o,selectedIndex:a,shouldPreloadImmediately:r,width:d}=this.props,{hasInteracted:h,selectedIndex:c}=this.state,{items:p,render:u,renderControls:g,selectedIndex:m,shouldPreloadImmediately:I,preloadCount:S,width:f}=e,{selectedIndex:x}=t,b=p.length;return i!==p?(s(()=>["items are updating, resetting preload state",i,p]),this.slideStateManager.reset({preloadCount:S,selectedIndex:null!=m?m:0,totalSlides:b}),!0):a!==m?(this.slideStateManager.setSelectedIndex(null!=m?m:0),!0):o!==g||(l!==u||(d!==f||(r!==I&&!h||(n!==S&&this.slideStateManager.setPreloadCount(S),c!==x&&this.slideStateManager.setSelectedIndex(x),this.state!==t))))}componentDidUpdate(e,t){const{selectedIndex:i}=e,{props:s,state:n}=this,{selectedIndex:l,alignCenter:o,log:a}=s,{selectedIndex:r}=n;e!==s&&a(()=>["The carousel props just updated.",{prevProps:e,props:s,changes:y(e,s)}]),t!==n&&a(()=>["The carousel state just updated.",{prevState:t,state:n,changes:y(t,n)}]),i!==l&&r!==l?(this.fireOnChangeWhenSlideFullyVisible=!0,this.scrollSlideIntoView(null!=l?l:0,{smooth:void 0!==i})):!o&&i!==l&&this.shouldDisplayMultipleItems()&&this.scrollSlideIntoView(null!=l?l:0,{smooth:void 0!==i})}UNSAFE_componentWillReceiveProps({applyPeekBouncing:e,spaceBetweenItems:t,shouldPreloadImmediately:i}){const{applyPeekBouncing:s,spaceBetweenItems:n,shouldPreloadImmediately:l}=this.props;!s&&e&&this.setState({isApplyingPeekBounce:!0}),n!==t&&(this.effectiveSpaceBetweenItems=this.determineSpaceBetweenItems(t)),!l&&i&&this.setIsInteracting()}render(){const{hasInteracted:e,isApplyingPeekBounce:t,isScrollable:i,selectedIndex:s,shouldApplyRTLFix:l,isSnapRTLLikeLTR:r}=this.state,{alignCenter:d,"aria-label":h,applyCompositingOptimizations:c,borderRadius:p,css:u,direction:S,hideScrollbar:f,leftGutterSpace:w,items:y,isFirstCarouselInGroup:v,render:C,renderControls:R,rightGutterSpace:F,spaceBetweenItems:B,styles:O,supportKeyboardEvents:k,width:V,useContentVisibilityOptimizations:T}=this.props,P=null!=T?T:g.a.getBootstrap("enable_carousel_contentvisibility"),L=c&&void 0===this.waitingForIndexToBeFullyVisible&&!i,j={marginLeft:"-"+this.effectiveSpaceBetweenItems,marginRight:"-"+this.effectiveSpaceBetweenItems},A=B?`0px ${this.effectiveSpaceBetweenItems} 0px ${this.effectiveSpaceBetweenItems}`:void 0,E="string"==typeof V?V:"0",M=w||(100-Number.parseInt(E,10))/2+"%",D=!!w||d,N=F||(100-Number.parseInt(E,10))/2+"%",$=!!F||d,W=0===s,_=n.a.createElement(a.a,Object.assign({"aria-label":h,as:"ul",initialInView:!!v||void 0,threshold:.7,onChange:this.handleCarouselVisible,onMouseEnter:this.setIsInteracting,onScroll:e?void 0:this.setIsInteracting,onTouchStart:e||i?void 0:()=>this.toggleScrolling(!0),ref:this.setListRef},u(O.outerCarouselContainer,W&&O.outerCarouselContainer_overflowClip,l&&S===o.DIRECTIONS.RTL&&O.disableScrollSnap,f&&O.container_iosAdjustmentChild,L&&!W&&O.container_preventScrolling,L&&W&&O.container_preventScrolling_overflowClip,j,w&&{scrollPadding:w})),D&&n.a.createElement("div",{style:{flex:"0 0 "+M},"aria-hidden":"true"}),k&&n.a.createElement(m.a,{target:"document",type:"keydown",onEvent:this.handleKeyDown}),y.map((e,l)=>{const o=Object(x.a)(e);return n.a.createElement(b.a,{alignCenter:d,ariaHidden:s!==l&&!this.shouldDisplayMultipleItems(),css:u,enabled:!P||i,initialInView:v,item:e,isApplyingPeekBounce:t,key:o,onAnimationEnd:this.handleAnimationEnd,onChange:this.handleSlideVisible,onFullyVisible:this.handleSlideFullyVisible,ref:this.setSlideRef,render:C,rootMargin:A,rootRef:this.rootRef,slideIndex:l,slideState:this.slideStateManager.getStateForSlide(l),spaceBetweenItems:this.effectiveSpaceBetweenItems,styles:O,width:V,direction:S,isSnapRTLLikeLTR:r})}),$&&n.a.createElement("div",{style:{flex:"0 0 "+N},"aria-hidden":"true"}));let G=_;if(f&&(G=n.a.createElement("div",u(O.container_iosAdjustmentParent),_)),R){const e=y.length,t=0===s,i=s===e-1;return n.a.createElement("div",Object.assign({},u(O.controlsContainer),{ref:this.setRootRef}),n.a.createElement(I.a,{when:!!p,wrapper:n.a.createElement("div",u({borderRadius:p,overflow:"hidden"}))},G),R({isFirstSlideSelected:t,isLastSlideSelected:i,selectedIndex:s,total:e,gotoNextSlide:this.gotoNextSlide,gotoPreviousSlide:this.gotoPreviousSlide}))}return n.a.createElement(I.a,{when:!!p,wrapper:n.a.createElement("div",u({borderRadius:p,overflow:"hidden"}))},G)}shouldPreventNextChange(e){const{rewindOnBoundaries:t,items:i}=this.props,{selectedIndex:s}=this.state,n=Math.abs(s-e)===i.length-1;return!t&&n}getNextIndex(){const{selectedIndex:e}=this.state,{direction:t,items:i}=this.props;let s=e;return t===o.DIRECTIONS.RTL?(s-=1,s<0&&(s=i.length-1)):(s+=1,s>i.length-1&&(s=0)),s}getPreviousIndex(){const{selectedIndex:e}=this.state,{direction:t,items:i}=this.props;let s=e;return t===o.DIRECTIONS.RTL?(s+=1,s>i.length-1&&(s=0)):(s-=1,s<0&&(s=i.length-1)),s}}v.defaultProps={rewindOnBoundaries:!0,items:[],render:e=>e,selectedIndex:0,smoothScrolling:"adjacent"},t.a=Object(h.a)(Object(r.a)("Carousel",["onSlideChanged"]),Object(l.a)(()=>Object.assign({},Object(p.a)(),{log:Object(c.a)("Carousel")})))(v)}}]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/60b4-fd2a310b.js.map